{% extends "bootstrap/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% block title %}Make Transaction{% endblock %}

{% block navbar %}
  <div class="navbar navbar-inverse" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle"
        data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">PyBlock</a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="/">Wallet Generator</a></li>
        <li><a href="/">Make Transaction</a></li>
        <li><a href="/">View Transactions</a></li>
      </ul>
    </div>
  </div>
  </div>

{% endblock %}
{% block content %}
<div class="container alert alert-secondary">
      {{ wtf.quick_form(form, action="/generate/transaction")}}
   </div>


   <!-- Modal -->
   <div class="modal modal-alert fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
     <div class="modal-dialog">

       <div class="modal-content">

         <div class="modal-header">
           <div class="modal-title col-md-10">Confirm transaction details, enter a blockchain node url and click on "Confirm Transaction" to finalize your transaction.</div>
           <button type="button" class="close col-md-2" data-dismiss="modal" aria-hidden="true">&times;</button>
         </div>

         <div class="modal-body">




           <div class="row">
             <label class="col-sm-12">Blockchain Node URL:</label>
             <div class="col-sm-12">
               <input type="text" name="node_url" id="node_url" rows="2" class="form-control" value="http://127.0.0.1:5000">
             </div>
           </div>

         </div>

         <div class="modal-footer">
           <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
           <button type="button" id="button_confirm_transaction" class="btn btn-success">Confirm Transaction</button>
         </div>

       </div>

     </div>
   </div>


   <!-- Alert Message for successful transaction -->
   <div class="modal modal-alert fade" id="success_transaction_modal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
     <div class="modal-dialog">
       <div class="modal-content">

         <div class="modal-header">
           <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
         </div>

         <div class="modal-body">
           <div class="alert alert-success" role="alert">
             <h4 class="alert-heading">Successful Transaction!</h4>
             <p>You successfully completed your transaction. It will be added to the next block.</p>
           </div>
         </div>

         <div class="modal-footer">
           <button type="button" id="button_confirm_transaction" class="btn btn-success" data-dismiss="modal">OK</button>
         </div>

       </div>
     </div>
   </div>

{% endblock %}
